define("src/barista",["require","underscore"],function(t){function n(t,n){return n[t]=!0,n}function e(t){return n(g,t)}function r(t){return n(O,t)}function o(t,n){return C(n)&&(n={}),C(t)?n:t}function s(t,n){return b(n)&&n[t]===!0}function i(t){return s(g,t)}function c(t){return s(O,t)}function u(t){var n={classFactory:S,parent:t[0]},e=1;return i(t[e])&&(n.classFactory=t[e++]),n.instanceMethods=o(t[e++]),n.staticMethods=o(t[e]),n}function a(){var t=u(arguments);return t.classFactory.createClass(t.parent,t.instanceMethods,t.staticMethods)}function f(t,n,e){return a(this,t,n,e)}function h(t,n,e){if(C(t))throw new ReferenceError("The property "+n+" is not defined"+o(e,""))}function d(t,n){return x(t,function(e,r){c(e)&&(t[r]=e.createMethod(r,n))}),t}function p(t){return e(t),t.defaultCreateClass=_(S.createClass,S),t.processMethods=d,t}function l(){return new D(arguments)}var m=t("underscore"),x=m.each,M=m.map,y=m.has,_=m.bind,F=m.extend,C=m.isUndefined,v=m.isFunction,b=m.isObject,w=function(){},g="Barista *classFactory*",O="Barista *method descriptor*",S=e({createClass:function(t,n,e){var r=Object.create(t.prototype);F(r,d(n,{Parent:t})),y(r,"constructor")&&"function"==typeof r.constructor||(r.constructor=function(){});var o=r.constructor;return F(o,e),o.__super__=t.prototype,r._super=function(t){if(t){var n=o.__super__[t];return h(n,t),_(n,this)}return o.__super__},o.prototype=r,o.extend=f,o}}),j={create:function(t,n,e){return a(w,t,n,e)}},D=j.create({constructor:function(t){this.mixins=M(t,this.asMixinFunction)},asMixinFunction:function(t){if(v(t))return t;if(b(t))return function(n){F(n,t)};throw new TypeError("Only objects or functions can be used as mixins")},createClass:function(t,n,e){var r={};return x(this.mixins,function(t){t(r)}),F(r,this.processMethods(n,{Parent:t,mixinMethods:r})),this.defaultCreateClass(t,r,e)}});p(D.prototype);var P=j.create(l(r),{constructor:function(t){this.name=t},createMethod:function(t,n){var e=this.methodFrom(t,n);return h(e,this.name,this.notDefinedMessageSuffix),e}}),B=P.extend({constructor:function(t){this._super("constructor")(t)},methodFrom:function(t,n){return n.Parent.prototype[this.name]},notDefinedMessageSuffix:" by the superclass"},{create:function(t){return new B(t)}}),E=P.extend({constructor:function(t){this._super("constructor")(t)},methodFrom:function(t,n){return n.mixinMethods[this.name]},notDefinedMessageSuffix:" by the mixins"},{create:function(t){return new E(t)}});return{defaultClassFactory:S,classFactoryMixin:e,Class:j,withMixins:l,aliasOfSuper:B.create,aliasOfMixin:E.create}});
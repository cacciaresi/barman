define("src/barista",["require","underscore"],function(t){function n(t,n){return n[t]=!0,n}function e(t){return n(O,t)}function r(t){return n(D,t)}function o(t,n){return v(n)&&(n={}),v(t)?n:t}function s(t,n){return w(n)&&n[t]===!0}function i(t){return s(O,t)}function u(t){return s(D,t)}function c(t){var n={classFactory:S,parent:t[0]},e=1;return i(t[e])&&(n.classFactory=t[e++]),n.instanceMethods=o(t[e++]),n.staticMethods=o(t[e]),n}function a(){var t=c(arguments);return t.classFactory.createClass(t.parent,t.instanceMethods,t.staticMethods)}function f(t,n,e){return a(this,t,n,e)}function h(t,n,e){if(v(t))throw new ReferenceError("The property "+n+" is not defined"+o(e,""))}function d(t,n){return y(t,function(e,r){u(e)&&(t[r]=e.createMethod(r,n))}),t}function p(t){return e(t),t.defaultCreateClass=F(S.createClass,S),t.processMethods=d,t}function l(){return new P(arguments)}function m(t){return t.constructor=function(){this._super().constructor.apply(this,arguments)},t}var x=t("underscore"),y=x.each,M=x.map,_=x.has,F=x.bind,C=x.extend,v=x.isUndefined,b=x.isFunction,w=x.isObject,g=function(){},O="*classFactory*",D="*methodDescriptor*",S=e({createClass:function(t,n,e){var r=Object.create(t.prototype);C(r,d(n,{Parent:t})),_(r,"constructor")&&"function"==typeof r.constructor||(r.constructor=function(){});var o=r.constructor;return C(o,e),o.__super__=t.prototype,r._super=function(t){if(t){var n=o.__super__[t];return h(n,t),F(n,this)}return o.__super__},o.prototype=r,o.extend=f,o}}),j={create:function(t,n,e){return a(g,t,n,e)}},P=j.create({constructor:function(t){this.mixins=M(t,this.asMixinFunction)},asMixinFunction:function(t){if(b(t))return t;if(w(t))return function(n){C(n,t)};throw new TypeError("Only objects or functions can be used as mixins")},createClass:function(t,n,e){var r={};return y(this.mixins,function(t){t(r)}),C(r,this.processMethods(n,{Parent:t,mixinMethods:r})),this.defaultCreateClass(t,r,e)}});p(P.prototype);var E=j.create(l(r),{constructor:function(t){this.name=t},createMethod:function(t,n){var e=this.methodFrom(t,n);return h(e,this.name,this.notDefinedMessageSuffix),e}}),T=E.extend(l(m),{methodFrom:function(t,n){return n.Parent.prototype[this.name]},notDefinedMessageSuffix:" by the superclass"}),q=E.extend(l(m),{methodFrom:function(t,n){return n.mixinMethods[this.name]},notDefinedMessageSuffix:" by the mixins"});return{defaultClassFactory:S,classFactoryMixin:e,Class:j,withMixins:l,aliasOfSuper:function(t){return new T(t)},aliasOfMixin:function(t){return new q(t)}}});
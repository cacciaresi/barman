define("src/barista",["require","underscore"],function(t){function r(t){return t[m]=!0,t}function n(t,r){return h(r)&&(r={}),h(t)?r:t}function e(t){return _(t)&&t[m]===!0}function s(t){var r={classFactory:F,parent:t[0]},s=1;return e(t[s])&&(r.classFactory=t[s++]),r.instanceMethods=n(t[s++]),r.staticMethods=n(t[s]),r}function c(){var t=s(arguments);return t.classFactory.createClass(t.parent,t.instanceMethods,t.staticMethods)}function o(t,r,n){return c(this,t,r,n)}function a(t){r(t),t.defaultCreateClass=l(F.createClass,F)}var i=t("underscore"),u=i.each,f=i.map,d=i.has,l=i.bind,p=i.extend,h=i.isUndefined,y=i.isFunction,_=i.isObject,C=function(){},m="Barista *classFactory*",F=r({createClass:function(t,r,n){var e=Object.create(t.prototype);p(e,r),d(e,"constructor")&&"function"==typeof e.constructor||(e.constructor=function(){});var s=e.constructor;return p(s,n),s.__super__=t.prototype,e._super=function(t){if(t){var r=s.__super__[t];if(!r)throw new ReferenceError("The method "+t+" is not defined in the super class");return l(r,this)}return s.__super__},s.prototype=e,s.extend=o,s}}),v={create:function(t,r,n){return c(C,t,r,n)}},x=v.create({constructor:function(t){this.mixins=f(t,function(t){if(y(t))return t;if(_(t))return function(r){p(r,t)};throw new TypeError("Only objects or functions can be used as mixins")})},createClass:function(t,r,n){var e={};return u(this.mixins,function(t){t(e)}),p(e,r),this.defaultCreateClass(t,e,n)}});return a(x.prototype),{defaultClassFactory:F,markAsClassFactory:r,Class:v,classFactoryMixin:a,withMixins:function(){return new x(arguments)}}});